pipeline {
    agent any

    triggers {
        pollSCM('H/5 * * * *')  // Poll GitHub every 5 minutes
    }

    stages {
        stage('Checkout Code') {
            steps {
                git branch: 'main', url: ''
            }
        }

        stage('Validate Files') {
            steps {
                script {
                    echo "Checking HTML and CSS files..."
                    sh '''
                    # Simple check: list files
                    ls -l
                    # Optional: install tidy/htmlhint/csslint if available
                    '''
                }
            }
        }

        stage('Build (Optional)') {
            steps {
                echo "No build needed for static HTML/CSS."
            }
        }

        stage('Archive Artifacts') {
            steps {
                archiveArtifacts artifacts: '**/*.html, **/*.css', fingerprint: true
            }
        }

        stage('Deploy (Optional)') {
            steps {
                echo "You can add deployment step here (like copy to server, S3, etc)."
            }
        }
    }
}
